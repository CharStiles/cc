<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.11/lib/p5.js"></script>
  
    
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8" />

  </head>
  <body>
    <main>
    </main>
    <script>

let currentAngle = 0;

const COLORS = 
{
  moon: [255, 250, 102],  
  shadow: [20, 20, 25],   
  bg: [15, 15, 20]        
};

function setup() 
{
  createCanvas(400, 400, WEBGL);
  angleMode(DEGREES);
  noStroke();
}

function draw() 
{
  background(COLORS.bg);

  let sc = second();
  let ms = millis();
  let smoothSc = sc + (ms % 1000) / 1000;
  let minuteProgress = smoothSc / 60; 

  let targetAngle = sc * 180;
  currentAngle = lerp(currentAngle, targetAngle, 0.1);
  rotateY(currentAngle);

  fill(COLORS.moon);
  ellipse(0, 0, 200, 200);

  let shadowOffset = map(smoothSc, 0, 60, 0, -220);
  
  let noiseIntensity = 15; 

  fill(COLORS.shadow);
  
  push();
    translate(shadowOffset, 0, 1);
    drawNoisyCircle(100, noiseIntensity);
  pop();

  push();
    translate(shadowOffset, 0, -1);
    drawNoisyCircle(100, noiseIntensity);
  pop();
}


function drawNoisyCircle(radius, intensity) 
{
  beginShape();
  for (let a = 0; a < 360; a += 10) {
    let offset = map(noise(a * 0.05, frameCount * 0.02), 0, 1, -intensity, intensity);
    let r = radius + offset;
    let x = r * cos(a);
    let y = r * sin(a);
    vertex(x, y);
  }
  endShape(CLOSE);
}
      // put your homework code here!
  
  </script>
  </body>
</html>
