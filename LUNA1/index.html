<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.8.0/p5.js"></script>
  </head>
  <body>
    <main></main>
    <script>
    

//https://editor.p5js.org/ICantRemember/sketches/QqjpuLphA

function setup(){
creat Canvas(windowWidth,windowHeight)
angleMode(DEGREES)
colorMode(HGL)
createPattern(257,0.8,180)

}
function mousePressed(){
createPattern()
}
function keyPressed(){
  createPattern();
}

function createPattern (fix,zoom,startColour){
  
  var length = 0; 
  var step = round(random(360)); 
  var colour = round(random(360)); 
  
  var rotationAngle = 0;
  var magnify = height/500; 

  var oldX = width/2;
  var oldY = height/2; 
  var newX;
  var newY;
  
  if(fix != null){
    step = fix;
  }
  if(zoom != null){
    magnify = zoom;
  }
  if(startColour != null){
    colour = startColour;
  }
  
  background(255); 
  text("colour: "+colour,width-70,15);
  
  for(var i = 0;i<360;i++){
    stroke(colour%360,100,50); 
    
    newX = length*(cos(rotationAngle))+oldX; 
    newY = length*(sin(rotationAngle))+oldY; 
    
    line(oldX,oldY,newX,newY); 
    
    oldX = newX; 
    oldY = newY; 
    rotationAngle += step;
    length -= magnify; 
    colour += 1; 
  }
  
  text("fix: "+step,10,15); 

        
    </script>
  </body>
</html>
