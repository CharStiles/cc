<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.1/p5.js"></script>

    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8" />

  </head>
  <body>
    <main>
    </main>
    <script>
    
    
let video;

let program, shadertime;

function setup() {
  noCursor();
  createCanvas(400, 400, WEBGL);
    program = createShader(vert, frag);
  shaderTime =0.;
 // fullscreen(true);
}


function draw() {
  noCursor();
  var right = []
  var left = []
  background(255,255)
    translate(-width/2.,-height/2.)
    shader(program);
  shaderTime+= 0.005;
     program.setUniform('mx', mouseX);
   program.setUniform('my',mouseY);
  
   program.setUniform('u_resolution', [width, height]);

    program.setUniform('u_time', shaderTime);
    program.setUniform('min', float((minute()/1.5) + 10 ));
    program.setUniform('hour', float(hour() ));
  program.setUniform("uTexture", cursor);

   // rect gives us some geometry on the screen
   rect(0,0,width, height);
  
  shaderTime++;

}

function mouseClicked(){
  isClicked = !isClicked;
  shaderTime =0;
}

var vert = `
#ifdef GL_ES
      precision highp float;
      precision highp int;
    #endif

    // attributes, in
    attribute vec3 aPosition;
    attribute vec3 aNormal;
    attribute vec2 aTexCoord;
    attribute vec4 aVertexColor;

    // attributes, out
    varying vec3 var_vertPos;
    varying vec4 var_vertCol;
    varying vec3 var_vertNormal;
    varying vec2 var_vertTexCoord;

    // matrices
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;
    //uniform mat3 uNormalMatrix;

    void main() {
      gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aPosition, 1.0);

      // just passing things through
      // var_vertPos      = aPosition;
      // var_vertCol      = aVertexColor;
      // var_vertNormal   = aNormal;
      // var_vertTexCoord = aTexCoord;
    }
`;
//YOUR CODE GOES HERE IN BETWEEN THE tick MARKS
var frag = `


#ifdef GL_ES
precision mediump float;
#endif

uniform vec2 u_resolution;
uniform float u_time;
uniform float u_vol;

// main is a reserved function that is going to be called first
void main(void)
{
    vec2 normCoord = gl_FragCoord.xy/u_resolution;
    
    float time = u_time/9.0; //slow down time

    vec2 uv = -1. + 2. * normCoord;
    float r = sin(time + uv.x); 
    // x is left to right, why we see red moving from right to left think about us as a camera moving around
    // sin returns a number from -1 to 1, and colors are from 0 to 1, so it clips to no red half the time
	
	float g = sin(-time + uv.y * 20.); // higher frequency green stripes
	
	float b = mod(uv.x / uv.y,1.0);
	// when x is eual to y the colors will be brighter, mod repeats the space
	// mod is like a sawtooth function
	
    vec4 color = vec4(r,g,b,1);
    
  
  
  gl_FragColor = color.bgra;
}

`;


    </script>
  </body>
</html>
